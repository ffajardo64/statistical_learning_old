<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>STA04692 - Estatística aplicada às ciências sociais I</title>
    <meta charset="utf-8" />
    <meta name="author" content="  " />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding/datatables.js"></script>
    <link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
    <script src="libs/jszip/jszip.min.js"></script>
    <script src="libs/pdfmake/pdfmake.js"></script>
    <script src="libs/pdfmake/vfs_fonts.js"></script>
    <link href="libs/dt-ext-buttons/css/buttons.dataTables.min.css" rel="stylesheet" />
    <script src="libs/dt-ext-buttons/js/dataTables.buttons.min.js"></script>
    <script src="libs/dt-ext-buttons/js/buttons.flash.min.js"></script>
    <script src="libs/dt-ext-buttons/js/buttons.html5.min.js"></script>
    <script src="libs/dt-ext-buttons/js/buttons.colVis.min.js"></script>
    <script src="libs/dt-ext-buttons/js/buttons.print.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <script src="libs/plotly-binding/plotly.js"></script>
    <script src="libs/typedarray/typedarray.min.js"></script>
    <link href="libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="libs/plotly-main/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# STA04692 - Estatística aplicada às ciências sociais I
## Introdução
### <br/><br/>
### LECON/DEST - UFES
### Vitória. ES - 07/11/2021

---

[//]: &lt;&gt; (https://pkg.garrickadenbuie.com/extra-awesome-xaringan/intro/index.html#1)
[//]: &lt;&gt; (https://pkg.garrickadenbuie.com/xaringanthemer/articles/xaringanthemer.html)
[//]: &lt;&gt; (https://www.biostatistics.dk/talks/CopenhagenRuseRs-2019/index.html#1)
[//]: &lt;&gt; (https://rstudio-education.github.io/sharing-short-notice/#1)
[//]: &lt;&gt; (https://www.kirenz.com/slides/xaringan-demo-slides.html#1)
[//]: &lt;&gt; (https://github.com/yihui/xaringan/issues/26)
class: animated, fadeIn




&lt;style&gt; body {text-align: justify} &lt;/style&gt; &lt;!-- Justify text. --&gt;



### Modelos estatísticos: Enfoques
Breiman (2001) argumenta que existem duas culturas no uso de 
modelos estatísticos (em especial modelos de regressão):

* **Data modeling**: Esse enfoque domina a 
&lt;span style="color:grey"&gt;comunidade estatística&lt;/span&gt;. 
Sob essa abordagem, testar se   as suposições do modelo (por exemplo, 
normalidade dos erros, linearidade,   multicolinearidade, homocedasticidade, 
independência, etc.) são válidas é de fundamental importância. Ainda que 
predição muitas vezes faça parte dos objetivos, o foco em geral está na 
&lt;ins&gt;inferência&lt;/ins&gt;.

--

* **Algorithmic modeling**: Esse enfoque domina a comunidade de 
&lt;span style="color:grey"&gt;aprendizado de máquina&lt;/span&gt;. Nesse contexto, o foco 
é a &lt;ins&gt;predição&lt;/ins&gt; de novas observações. Não se assume que o modelo 
utilizado para os dados é correto. 
O modelo é utilizado apenas para criar bons algoritmos para prever bem novas 
observações. Muitas vezes não há nenhum modelo probabilístico explícito por 
trás dos algoritmos utilizados. Mesmo que o objetivo primordial de uma problema 
de predição seja obter um bom "poder" preditivo, a *interpretabilidade* do 
modelo final também é relevante.

&lt;img src="images/machine_learning.gif" width="40%" style="display: block; margin: auto;" /&gt;

---
class: animated, slideInRight

.center[### Tipos de Aprendizado I]

* **Supervisionado**: O objetivo é prever o valor de uma variável resposta 
(*output*) a partir de variáveis preditoras (*input*). Dentre as técnicas mais 
utilizadas com essa finalidade temos:
  - &lt;ins&gt;Modelos de regressão&lt;/ins&gt; (linear, ridge, lasso, elastic net, esparsa, 
  robusta, Bayes ingênuo (*Naive Bayes*), etc.)
  - &lt;ins&gt;Modelos de classificação&lt;/ins&gt; baseados em modelos de regressão logística,
  algoritmos de suporte vetorial (SVM - *support vector machines*), redes 
  neurais, análise discriminante linear e quadrática, árvores de decisão, 
  método do `\(k\)`-ésimo vizinho mais próximo (*KNN*), bagging e florestas 
  aleatórias, boosting etc.

* **Não supervisionado**: O objetivo é descrever associações e padrões entre
variáveis. Nesse caso, não há uma distinção entre variáveis preditoras e
respostas e só dispomos de um conjunto de variáveis (*inputs*). Dentre as técnicas 
mais utilizadas com essa finalidade, temos:
  - &lt;ins&gt;Redução de dimensionalidade&lt;/ins&gt;: Análise de componentes principais, análise de 
  componentes independentes, análise fatorial, projeções aleatórias, *Autoencoders*, 
  etc.
  - &lt;ins&gt;Análise de agrupamentos&lt;/ins&gt;: análise de conglomerados (*cluster*), *k*-médias 
  (*k-means*), métodos hierárquicos (*hierarchical clustering*), agrupamento 
  espectral, etc.
  - &lt;ins&gt;Detecção de anomalias&lt;/ins&gt;: Fator de outlier local (LOF - *local outlier factor*),
  floresta de isolamento (*Isolation Forest*), etc.
  - &lt;ins&gt;Abordagens para aprender modelos de variáveis latentes&lt;/ins&gt;: Algoritmo EM, método 
  dos momentos e técnicas de separação de sinal cego (*Blind signal separation*), etc.

---
class: animated, slideInRight

.center[### Tipos de Aprendizado II]
  
* **Por reforço**: Aprendizagem por reforço (RL) é uma área de aprendizagem de 
máquina preocupada de como os agentes inteligentes devem realizar ações em um 
ambiente a fim de maximizar a noção de recompensa cumulativa. 
A aprendizagem por reforço difere da aprendizagem supervisionada por não precisar 
da apresentação de pares de entrada/saída rotulados e por não precisar que ações 
abaixo do ideal sejam explicitamente corrigidas. Em vez disso, o foco está em 
encontrar um equilíbrio entre a exploração (de território não mapeado) e a 
exploração (de conhecimento atual). Dentre as técnicas mais utilizadas com essa 
finalidade, temos:
 - Critério de otimização (*Criterion of optimality*), Força bruta (*Brute force*), 
 aproximação ao valor da função (*Value function*), método de Monte Carlo, método
 de diferenças temporais, etc. 

***

&gt; **Inteligência Artificial (IA)**&lt;br&gt;&lt;/br&gt;
A partir da década de 1990, o aprendizado automático criou um novo paradigma 
para analisar dados dificilmente solucionáveis sem o recente avanço na capacidade 
computacional. &lt;br&gt;&lt;/br&gt;
"*IA é um esforço para automatizar tarefas intelectuais usualmente realizadas 
por seres humanos.*"
.right[-- &lt;cite&gt;Chollet (2018)&lt;/cite&gt;]


---
class: center, middle
background-image: url("images/evolucao_ML.png")
background-size: contain


---
class: animated, slideInRight

###  Modelos de regressão linear
Análise de regressão é uma técnica estatística que conduz a uma descrição 
matemática de um processo em termos de um conjunto de variáveis associadas.
Os métodos de regressão tiveram suas bases com o surgimento do método de mínimos
quadrados em `\(1795\)` nos trabalhos de [Carl Friedrich Gauss](https://bityli.com/W5wkJ), 
quando Gauss tinha apenas dezoito anos. Entretanto, 
[Adrien-Marie Legendre](https://bityli.com/qwND5) foi o primeiro a publicar 
o método em `\(1805\)`, em seu _Nouvelles méthodes pour la détermination des orbites des comètes_. 
Gauss publicou suas conclusões apenas em `\(1809\)`.

De modo geral, o objetivo de um modelo de regressão é determinar a relação
entre uma variável aleatória `\(Y\in\mathbb{R}\)` e um vetor 
`\(\mathbf{x}=(x_1,\dots,x_d)\in\mathbb{R}^d\)`. Mais especificamente, 
busca-se descrever tal relação estimando a função de regressão, dada por:
`$$r(\mathbf{x})=\mathbb{E}[Y|\mathbf{X}=\mathbf{x}].$$`
A análise de regressão consiste em modelar a relação funcional entre uma 
variável *resposta* e uma ou mais variáveis *explicativas*. Em outras palavras,
nosso principal objetivo será descrever algumas técnicas para estimar 
(ou *treinar*, como dito na literatura de &lt;span style="color:grey"&gt;aprendizado 
de máquina&lt;/span&gt;) a função `\(r(\mathbf{x})\)`.

&gt; `\(Y\)` também é chamada de variável *dependente*, ou *label* (rótulo). 
`\(x_1,\dots,x_d\)` também são chamadas de variáveis *independentes*, ou *covariáveis*, 
ou *preditores*, ou *características* ou *features* (atributos).

---
class: animated, slideInRight

### Exemplo I
Pesquisadores suspeitam que a temperatura usada em um processo industrial afeta 
a dureza de um certo produto. Um experimento foi realizado e vários produtos
foram expostos a diferentes temperatura: `\(30, 40, 50\)` e `\(60^oC\)`. Os resultados
obtidos foram:
.pull-left[
<div id="htmlwidget-cc016a92e3a5a941d82d" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-cc016a92e3a5a941d82d">{"x":{"filter":"none","extensions":["Buttons"],"data":[[1,2,3,4,5,6,7,8,9,10,11,12,13,14],[30,30,30,30,40,40,40,50,50,50,60,60,60,60],[55.8,59.1,54.8,54.6,43.1,42.2,45.2,31.6,30.9,30.8,17.5,20.5,17.2,16.9]],"container":"<table class=\"compact\">\n  <thead>\n    <tr>\n      <th>ident<\/th>\n      <th>Temperatura<\/th>\n      <th>Dureza<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"tBp","buttons":[{"extend":"csv","filename":"dureza"},{"extend":"excel","filename":"dureza"},{"extend":"pdf","filename":"dureza"}],"pageLength":7,"columnDefs":[{"className":"dt-right","targets":[0,1,2]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[7,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
 
]
.pull-right[
<div id="htmlwidget-b2096d0a6a35aaef21b0" style="width:504px;height:504px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b2096d0a6a35aaef21b0">{"x":{"visdat":{"2d077122bf08":["function () ","plotlyVisDat"]},"cur_data":"2d077122bf08","attrs":{"2d077122bf08":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"width":400,"height":400,"margin":{"b":80,"l":50,"t":80,"r":50,"pad":4},"xaxis":{"domain":[0,1],"automargin":true,"range":[29,61],"title":"Temperatura (°C)"},"autosize":false,"showlegend":false,"yaxis":{"domain":[0,1],"automargin":true,"title":"Dureza"},"hovermode":"closest"},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[30,30,30,30,40,40,40,50,50,50,60,60,60,60],"y":[55.8,59.1,54.8,54.6,43.1,42.2,45.2,31.6,30.9,30.8,17.5,20.5,17.2,16.9],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
]  


---
class: animated, fadeIn

### Exemplo I
Pesquisadores suspeitam que a temperatura usada em um processo industrial afeta 
a dureza de um certo produto. Um experimento foi realizado e vários produtos
foram expostos a diferentes temperatura: `\(30, 40, 50\)` e `\(60^oC\)`. Os resultados
obtidos foram:
.pull-left[
* Os valores de uma variável frequentemente dependem dos níveis de algumas outras 
variáveis. No exemplo: *Dureza* é a variável dependente e *Temperatura* é a 
variável independente;

* Para cada experimento `\(i\)`, temos uma medida de *Temperatura* e uma medida de
*Dureza* resultante;

* Claramente o diagrama de dispersão sugere uma relação linear entre as duas 
variáveis. Existe uma tendência decrescente da *Dureza* do produto com
com a *Temperatura*.
]
.pull-right[
<div id="htmlwidget-8514c2e512bd69a8e134" style="width:504px;height:504px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-8514c2e512bd69a8e134">{"x":{"visdat":{"2d07c0635c6":["function () ","plotlyVisDat"]},"cur_data":"2d07c0635c6","attrs":{"2d07c0635c6":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"2d07c0635c6.1":{"x":{},"y":[56.1494505494505,56.1494505494506,56.1494505494506,56.1494505494506,43.4879120879121,43.4879120879121,43.4879120879121,30.8263736263736,30.8263736263736,30.8263736263736,18.1648351648352,18.1648351648352,18.1648351648352,18.1648351648352],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"line","line":{"width":1,"color":"red"},"inherit":true}},"layout":{"width":400,"height":400,"margin":{"b":80,"l":50,"t":80,"r":50,"pad":4},"xaxis":{"domain":[0,1],"automargin":true,"range":[29,61],"title":"Temperatura (°C)"},"autosize":false,"showlegend":false,"yaxis":{"domain":[0,1],"automargin":true,"title":"Dureza"},"hovermode":"closest"},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[30,30,30,30,40,40,40,50,50,50,60,60,60,60],"y":[55.8,59.1,54.8,54.6,43.1,42.2,45.2,31.6,30.9,30.8,17.5,20.5,17.2,16.9],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[30,30,30,30,40,40,40,50,50,50,60,60,60,60],"y":[56.1494505494505,56.1494505494506,56.1494505494506,56.1494505494506,43.4879120879121,43.4879120879121,43.4879120879121,30.8263736263736,30.8263736263736,30.8263736263736,18.1648351648352,18.1648351648352,18.1648351648352,18.1648351648352],"type":"scatter","mode":"line+lines","line":{"color":"red","width":1},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
]  

---
class: animated, slideInRight

### Exemplo II
Considere um estudo cujo objetivo é avaliar como a distância com que motoristas 
conseguem distinguir um determinado objeto varia com a idade. 
Nesse caso, a variável &lt;ins&gt;resposta&lt;/ins&gt; é a distância e a variável 
&lt;ins&gt;explicativa&lt;/ins&gt; é a idade. (Tomado de: Morettin &amp; Singer(2020) 
[*Introdução à Ciência de Dados: Fundamentos e aplicações*.](https://bityli.com/ahLca)).

.pull-left[
<div id="htmlwidget-548c9326d6f581ecd24f" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-548c9326d6f581ecd24f">{"x":{"filter":"none","extensions":["Buttons"],"data":[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],[18,20,22,23,23,25,27,28,29,32,37,41,46,49,53,55,63,65,66,67,68,70,71,72,73,74,75,77,79,82],[170,197,187,170,153,163,187,170,153,137,140,153,150,127,153,140,117,140,100,137,100,130,107,123,93,140,153,120,103,120]],"container":"<table class=\"compact\">\n  <thead>\n    <tr>\n      <th>ident<\/th>\n      <th>idade<\/th>\n      <th>distancia<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"tBp","buttons":[{"extend":"csv","filename":"distancia"},{"extend":"excel","filename":"ditancia"},{"extend":"pdf","filename":"ditancia"}],"pageLength":8,"columnDefs":[{"className":"dt-right","targets":[0,1,2]}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[8,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
 
]
.pull-right[
<div id="htmlwidget-4f25c5e4041078f5cfd4" style="width:504px;height:504px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-4f25c5e4041078f5cfd4">{"x":{"visdat":{"2d073ed772d1":["function () ","plotlyVisDat"]},"cur_data":"2d073ed772d1","attrs":{"2d073ed772d1":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"2d073ed772d1.1":{"x":{},"y":[174.229581151833,172.221727748691,170.21387434555,169.209947643979,169.209947643979,167.202094240838,165.194240837696,164.190314136126,163.186387434555,160.174607329843,155.15497382199,151.139267015707,146.119633507853,143.107853403141,139.092146596859,137.084293193717,129.052879581152,127.04502617801,126.04109947644,125.037172774869,124.033246073298,122.025392670157,121.021465968586,120.017539267016,119.013612565445,118.009685863874,117.005759162304,114.997905759162,112.990052356021,109.978272251309],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"line","line":{"width":1,"color":"red"},"inherit":true}},"layout":{"width":400,"height":400,"margin":{"b":100,"l":50,"t":100,"r":50,"pad":4},"xaxis":{"domain":[0,1],"automargin":true,"range":[16,86],"title":"Idade (anos)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Distância (cm)"},"autosize":false,"showlegend":false,"hovermode":"closest"},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[18,20,22,23,23,25,27,28,29,32,37,41,46,49,53,55,63,65,66,67,68,70,71,72,73,74,75,77,79,82],"y":[170,197,187,170,153,163,187,170,153,137,140,153,150,127,153,140,117,140,100,137,100,130,107,123,93,140,153,120,103,120],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[18,20,22,23,23,25,27,28,29,32,37,41,46,49,53,55,63,65,66,67,68,70,71,72,73,74,75,77,79,82],"y":[174.229581151833,172.221727748691,170.21387434555,169.209947643979,169.209947643979,167.202094240838,165.194240837696,164.190314136126,163.186387434555,160.174607329843,155.15497382199,151.139267015707,146.119633507853,143.107853403141,139.092146596859,137.084293193717,129.052879581152,127.04502617801,126.04109947644,125.037172774869,124.033246073298,122.025392670157,121.021465968586,120.017539267016,119.013612565445,118.009685863874,117.005759162304,114.997905759162,112.990052356021,109.978272251309],"type":"scatter","mode":"line+lines","line":{"color":"red","width":1},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
]  

---
class: animated, fadeIn

### Exemplo II
Considere um estudo cujo objetivo é avaliar como a distância com que motoristas 
conseguem distinguir um determinado objeto varia com a idade. 
Nesse caso, a variável &lt;ins&gt;resposta&lt;/ins&gt; é a distância e a variável 
&lt;ins&gt;explicativa&lt;/ins&gt; é a idade. (Tomado de: Morettin &amp; Singer(2020) 
[*Introdução à Ciência de Dados: Fundamentos e aplicações*.](https://bityli.com/ahLca)).

.pull-left[
* O gráfico de dispersão sugere uma tendência decrescente da distância com a idade;

* Como a resposta para motoristas com a mesma idade (ou com idades bem
próximas) varia, o foco da análise é a estimação de uma tendência média;
 
* O objetivo da análise de regressão é quantificar essa tendência.
]
.pull-right[
<div id="htmlwidget-c3f5ad2dfc8a7fcf0ac6" style="width:504px;height:504px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c3f5ad2dfc8a7fcf0ac6">{"x":{"visdat":{"2d071fe93800":["function () ","plotlyVisDat"]},"cur_data":"2d071fe93800","attrs":{"2d071fe93800":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"2d071fe93800.1":{"x":{},"y":[174.229581151833,172.221727748691,170.21387434555,169.209947643979,169.209947643979,167.202094240838,165.194240837696,164.190314136126,163.186387434555,160.174607329843,155.15497382199,151.139267015707,146.119633507853,143.107853403141,139.092146596859,137.084293193717,129.052879581152,127.04502617801,126.04109947644,125.037172774869,124.033246073298,122.025392670157,121.021465968586,120.017539267016,119.013612565445,118.009685863874,117.005759162304,114.997905759162,112.990052356021,109.978272251309],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"line","line":{"width":1,"color":"red"},"inherit":true}},"layout":{"width":400,"height":400,"margin":{"b":100,"l":50,"t":100,"r":50,"pad":4},"xaxis":{"domain":[0,1],"automargin":true,"range":[16,86],"title":"Idade (anos)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Distância (cm)"},"autosize":false,"showlegend":false,"hovermode":"closest"},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[18,20,22,23,23,25,27,28,29,32,37,41,46,49,53,55,63,65,66,67,68,70,71,72,73,74,75,77,79,82],"y":[170,197,187,170,153,163,187,170,153,137,140,153,150,127,153,140,117,140,100,137,100,130,107,123,93,140,153,120,103,120],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[18,20,22,23,23,25,27,28,29,32,37,41,46,49,53,55,63,65,66,67,68,70,71,72,73,74,75,77,79,82],"y":[174.229581151833,172.221727748691,170.21387434555,169.209947643979,169.209947643979,167.202094240838,165.194240837696,164.190314136126,163.186387434555,160.174607329843,155.15497382199,151.139267015707,146.119633507853,143.107853403141,139.092146596859,137.084293193717,129.052879581152,127.04502617801,126.04109947644,125.037172774869,124.033246073298,122.025392670157,121.021465968586,120.017539267016,119.013612565445,118.009685863874,117.005759162304,114.997905759162,112.990052356021,109.978272251309],"type":"scatter","mode":"line+lines","line":{"color":"red","width":1},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
]  

---
class: animated, slideInRight

### Recursos computacionais 

Ao longo da disciplina usaremos preferencialmente a linguagem `R`. O repositório
de pacotes está disponível no site do [projeto R](ohttp://CRAN.R-project.org).
Dentre os pacotes estatı́sticos disponı́veis na linguagem R, aqueles mais
utilizados neste texto são: `car`, `stats`, `MASS`, `e1071`, `forecast`, `ggplot2`, 
`caret`, `robust`, `glmnet`, `Lars`, entre outros. As funções de cada pacote 
necessárias para a realização das análises serão indicadas ao longo da disciplina.

&lt;img src="https://www.r-project.org/Rlogo.png" width="25%" style="display: block; margin: auto;" /&gt;

&gt; Sugere-se a leitura do livro [Fox and Weisberg (2019) An R Companion to Applied Regression. 3rd Edition](https://bityli.com/gTnsQ).

---
class: animated, bounceInDown

### Notação

* **Variável resposta**: A variável `\(Y\)` será denotada como

&lt;div class="math"&gt;
\[Y=
\left[
\begin{array}{c}
Y_1 \\
Y_2 \\
\vdots\\
Y_n
\end{array}
\right]_{n\times1}=[Y_1,Y_2,\ldots,Y_n]'
\]
&lt;/div&gt;

* **Variáveis explicativas**: As variáveis explicativas serão denotadas como

&lt;div class="math"&gt;
\[\textbf{X}=
\left[
\begin{array}{ccccc}
1&amp;x_{11}&amp;x_{12}&amp;\cdots&amp;x_{1k} \\
1&amp;x_{21}&amp;x_{22}&amp;\cdots&amp;x_{2k} \\
\vdots&amp;\vdots&amp;\vdots&amp;\ddots&amp;\vdots\\
1&amp;x_{n1}&amp;x_{n2}&amp;\cdots&amp;x_{nk} \\
\end{array}
\right]_{n\times (k+1)}=[\mathbf{1} \quad \mathbf{x}_1\quad\cdots\quad \mathbf{x}_k], \qquad
\textbf{X}_1=
\left[\mathbf{x}_1\quad\cdots\quad \mathbf{x}_k\right],
\]
&lt;/div&gt;

onde `\(\mathbf{x}_j\)` representa o `\(j\)`-ésimo vetor coluna da matriz.

&gt; Para detalhes, Searle and Khuri (2017).


---
class: animated, fadeIn

### Modelo de regressão linear
Consideremos o modelo de regressão linear dado por
`$$Y=f(\mathbf{x}_1,\mathbf{x}_2,\ldots,\mathbf{x}_k)+\mathbf{\epsilon},$$`
onde `\(f(\cdot)\)` é uma função desconhecida. O objetivo será estudar a relação entre
a variável dependente e as variáveis independentes, i.e., estimar a função `\(f\)`.

Dessa forma, para estimar a função `\(f\)` são necessárias um conjunto de suposições 
a respeito da natureza do dados, a seguir:

**A1.** O modelo é linear, i.e. `\(Y=\beta_0\mathbf{1}+\beta_1\mathbf{x}_1+\beta_2\mathbf{x}_2+\cdots+\beta_k\mathbf{x}_k+\mathbf{\epsilon}\)`;

--

**A2.** A matriz de regressores tem posto coluna completo;

--

**A3.** Exogeneidade das variáveis independentes, i.e. `\(\mathbb{E}[\mathbf{\epsilon}|\mathbf{X}]=\mathbf{0}\)`;

--

**A4.** Esfericidade dos erros, i.e. `\(\mathbb{E}[\mathbf{\epsilon\epsilon}'|\mathbf{X}]=\sigma^2\mathbf{I}\)`;

--

**A5.** Os erros são normalmente distribuidos, i.e. `\(\mathbf{\epsilon|\mathbf{X}}\)` segue uma distribuição
normal multivariada com vetor de médias `\(\mathbf{0}\)` e matriz de covariâncias `\(\sigma^2\mathbf{I}\)`.


---
class: inverse, hide-logo, middle, center

# A1. Linearidade


---
class: animated, slideInRight

## A1. Linearidade
Ao longo da disciplina assumiremos que o modelo é linear, tal que

`$$Y=\mathbf{X}\mathbf{\beta}+\mathbf{\epsilon}$$`
ou
`$$Y=\beta_0\mathbf{1}+\beta_1\mathbf{x}_1+\beta_2\mathbf{x}_2+\cdots+\beta_k\mathbf{x}_k+\mathbf{\epsilon}$$`
ou

&lt;div class="math"&gt;
\[\left[
\begin{array}{c}
Y_1 \\
Y_2 \\
\vdots\\
Y_n
\end{array}
\right]_{n\times1}=
\left[
\begin{array}{ccccc}
1&amp;x_{11}&amp;x_{12}&amp;\cdots&amp;x_{1k} \\
1&amp;x_{21}&amp;x_{22}&amp;\cdots&amp;x_{2k} \\
\vdots&amp;\vdots&amp;\vdots&amp;\ddots&amp;\vdots\\
1&amp;x_{n1}&amp;x_{n2}&amp;\cdots&amp;x_{nk} \\
\end{array}
\right]_{n\times (k+1)}
\left[
\begin{array}{c}
\mathbf{\beta}_0 \\
\mathbf{\beta}_1 \\
\vdots\\
\mathbf{\beta}_k
\end{array}
\right]_{(k+1)\times1}+
\left[
\begin{array}{c}
\mathbf{\epsilon}_1 \\
\mathbf{\epsilon}_2 \\
\vdots\\
\mathbf{\epsilon}_n
\end{array}
\right]_{n\times1}.
\]
&lt;/div&gt;

A `\(i\)`-ésima equação simultânea é dada por

`$$Y_i=\beta_0+\beta_1x_{i1}+\beta_2x_{i2}+\cdots+\beta_kx_{ik}+\epsilon_i, \qquad i=1,2,\ldots,n.$$`
---
class: animated, bounceInDown
### Interpretação do termo "Linear"

O termo "&lt;em&gt;linear&lt;/em&gt;" pode ser interpretado de duas maneiras:

* **Linearidade nas variáveis**:  a linearidade em termos das variáveis sugere 
que a função de regressão é do tipo

`$$r(\mathbf{x})=\mathbb{E}[\mathbf{Y}|\mathbf{X}=\mathbf{x}]=\beta_0+\beta_1\mathbf{x}_1+\beta_2\mathbf{x}_2+\cdots+\beta_k\mathbf{x}_k.$$`
Em particular, para `\(k=1\)`
`$$r(x_i)=\mathbb{E}[Y_i|X=x_i]=\beta_0+\beta_1x_i, \quad i=1,2,\ldots,n$$`
a função de regressão é uma &lt;ins&gt;reta&lt;/ins&gt;.

De acordo com essa interpretação, funções de regressão do tipo

`$$r(x_i)=\mathbb{E}[Y_i|X=x_i]=\beta_0+\beta_1x^2_i, \quad i=1,2,\ldots,n$$`
não são funções lineares, pois a covariável `\(x_i\)` é quadrática.


---
class: animated, fadeIn
### Interpretação do termo "Linear"

* **Linearidade nos parâmetros**:  A diferença com a interpretação anterior, as 
covariáveis não são necessariamente lineares, por exemplo, mesmo que as 
covariáveis sejam quadráticas, a função de regressão é linear.

Em particular, para `\(k=1\)`
`$$r(x_i)=\mathbb{E}[Y_i|X=x_i]=\beta_0+\beta_1x^2_i, \quad i=1,2,\ldots,n$$`
a função de regressão é uma função &lt;ins&gt;linear&lt;/ins&gt;. Mas, a função

`$$r(x_i)=\mathbb{E}[Y_i|X=x_i]=\beta_0+\sqrt{\beta_1}x_i, \quad i=1,2,\ldots,n$$`
não é uma função de regressão linear. Este último caso é classificado no conjunto
de funções de regressão não-lineares.

&gt;Das duas interpretações, a **linearidade nos parâmetros** é considerada a mais 
relevante para o desenvolvimento teórico que nos interessa. Dessa forma, de agora
em diante, o termo &lt;em&gt;regressão linear&lt;/em&gt; será relativo a uma &lt;ins&gt;regressão
linear nos parâmetros&lt;/ins&gt;.


---
class: animated, lightSpeedIn
###  Termo de erro (ou perturbação estocástica) - I

Considere o modelo linear dado por

`$$Y=\mathbf{X}\mathbf{\beta}+\mathbf{\epsilon},$$`
o vetor de erros `\(\mathbf{\epsilon}\)` considera-se uma variável aleatória 
**não-observável** e de certa forma considera-se um substituto daquelas 
variáveis "omitidas" no modelo que certamente afetam o vetor `\(Y\)`.
Essa "omissão" de variáveis pode ser causada, entre outras coisas, por 

* *indisponibilidade de dados*: as vezes não é possível dispor das informações 
que idealmente gostariamos de ter no modelo, mesmo sabendo da relevância de
certas covariáveis; 

* *considerar uma forma funcional errada*: mesmo que tenhamos as variáveis 
teoricamente certas para explicar um fenômeno, muitas vezes podemos assumir um
formato funcional errado. Por exemplo: No modelo de uma covariável,
a forma funcional correta pode ser dada por `\(Y_i=\beta_0+\beta_1x_i+\epsilon_i\)`, 
`\(i=1,2,\ldots,n\)`, mas o pesquisador pode assumir 
`\(Y_i=\beta_0+\beta_1x_i+\beta_2x^2_i+\epsilon_i\)`. Nesse contexto, parece evidente
avaliar a forma funcional usando um diagrama de dispersão, mas em modelos que
envolvem mais covariáveis não é simples determinar o formato funcional graficamente,
dada a limitação na visualização de diagramas de dispersão em múltiplas dimensões.

---
class: animated, fadeIn
### Termo de erro (ou perturbação estocástica) - II

* *Princípio da parcimônia*: Este princípio sugere que 
**modelos mais simples devem ser escolhidos** em detrimento dos mais complexos,
desde que a qualidade do ajuste seja similar. É claro que devemos evitar excluir 
variáveis importantes apenas para manter um modelo simples.


&lt;img src="images/overfitting.png" width="70%" style="display: block; margin: auto;" /&gt;

&gt; Quando avaliamos a qualidade de um ajuste, a utilização exclusiva do termo de 
erro pode levar a resultados enganosos. Um "bom" modelo não pode sofrer de 
_underfitting_ (subajuste) nem de overfitting (sobreajuste). Nesse último, o
modelo se ajusta muito bem aos dados, mas o seu desempenho para previsão é ruim.


---
class: animated, fadeIn

###  Termo de erro (ou perturbação estocástica) - III
.pull-left[
#### Underfitting

Neste cenário o desempenho do modelo já é &lt;ins&gt;ruim&lt;/ins&gt; no próprio treinamento. 
O modelo não consegue encontrar relações entre as variáveis e o teste nem precisa 
acontecer. Este modelo já pode ser **descartado**, pois não terá utilidade.
&lt;img src="images/underfitting.png" width="50%" style="display: block; margin: auto;" /&gt;
]

--

.pull-right[
#### Overfitting
Neste cenário, o modelo tem um desempenho excelente com os dados de *treino*, 
porém quando utilizamos os dados de *teste* o resultado é &lt;ins&gt;ruim&lt;/ins&gt;. 
É comum ouvirmos que neste cenário o modelo *treinado* não tem capacidade de 
*generalização*.
&lt;img src="images/overfitting2.png" width="50%" style="display: block; margin: auto;" /&gt;

]


---
class: animated, lightSpeedIn
# Referências

Breiman, L. (2001). "Statistical Modeling: The Two Cultures (with comments and a
rejoinder by the author)". In: _Statistical Science_ 16.3, pp. 199 - 231.

Chollet, F. (2018). _Deep learning with R_. 1st edition. Shelter Island, NY: Manning
Publications. ISBN: 1-61729-554-X.

Fox, J. and S. Weisberg (2019). _An R Companion to Applied Regression_. 3rd edition.
Sage publications. ISBN: 978-1-5443-3647-3.

Searle, S. and A. Khuri (2017). _Matrix Algebra Useful for Statistics_. 2nd edition.
Wiley.

---
class: animated, hide-logo, bounceInDown
## Política de proteção aos direitos autorais

&gt; &lt;span style="color:grey"&gt;O conteúdo disponível consiste em material protegido pela legislação brasileira, sendo certo que, por ser
o detentor dos direitos sobre o conteúdo disponível na plataforma, o **LECON** e o **NEAEST** detém direito
exclusivo de usar, fruir e dispor de sua obra, conforme Artigo 5&lt;sup&gt;o&lt;/sup&gt;, inciso XXVII, da Constituição Federal
e os Artigos 7&lt;sup&gt;o&lt;/sup&gt; e 28&lt;sup&gt;o&lt;/sup&gt;, da Lei 9.610/98.
A divulgação e/ou veiculação do conteúdo em sites diferentes à plataforma e sem a devida autorização do
**LECON** e o **NEAEST**, pode configurar violação de direito autoral, nos termos da Lei 9.610/98, inclusive podendo
caracterizar conduta criminosa, conforme Artigo 184&lt;sup&gt;o&lt;/sup&gt;, §1&lt;sup&gt;o&lt;/sup&gt; a 3&lt;sup&gt;o&lt;/sup&gt;, do Código Penal.
É considerada como contrafação a reprodução não autorizada, integral ou parcial, de todo e qualquer
conteúdo disponível na plataforma.&lt;/span&gt;

.pull-left[
&lt;img src="images/logo_lecon.png" width="50%" style="display: block; margin: auto;" /&gt;
]
.pull-right[
&lt;img src="images/logo_neaest.png" width="50%" style="display: block; margin: auto;" /&gt;
]
&lt;br&gt;&lt;/br&gt;
.center[
[https://lecon.ufes.br](https://lecon.ufes.br/) &amp;emsp; &amp;emsp;  &amp;emsp; &amp;emsp; [https://analytics.ufes.br](https://analytics.ufes.br)
]

&lt;font size="2"&gt;&lt;span style="color:grey"&gt;Material elaborado pela equipe LECON/NEAEST: 
Alessandro J. Q. Sarnaglia, Bartolomeu Zamprogno, Fabio A. Fajardo, Luciana G. de Godoi 
e Nátaly A. Jiménez.&lt;/span&gt;&lt;/font&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<style>
.logo {
  background-image: url(images/logo_neaest.png);
  background-size: contain;
  background-repeat: no-repeat;
  position: absolute;
  top: 1em;
  right: 1em;
  width: 150px;
  height: 168px;
  z-index: 0;
}
</style>

<script>
document
  .querySelectorAll(
    '.remark-slide-content' +
    ':not(.title-slide)' +
    // add additional classes to exclude here, e.g.
    // ':not(.inverse)' +
    ':not(.hide-logo)'
  )
  .forEach(el => {
    el.innerHTML += '<div class="logo"></div>';
  });
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
